<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - EduHire</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --accent-color: #ff6b6b;
            --dark-accent: #4a4e69;
            --light-text: #f8f9fa;
            --dark-text: #212529;
            --shadow: 0 10px 20px rgba(0,0,0,0.1);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: var(--dark-text);
            overflow-x: hidden;
        }
        
        /* Navbar Styling */
        .navbar {
            background: var(--primary-gradient) !important;
            box-shadow: var(--shadow);
            padding: 0.8rem 0;
            transition: var(--transition);
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 1.8rem;
            background: linear-gradient(to right, #ffffff, #e0e0e0);
            -webkit-background-clip: text;
            background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: var(--transition);
        }
        
        .navbar-brand:hover {
            transform: scale(1.05);
        }
        
        .nav-link {
            font-weight: 500;
            margin: 0 0.5rem;
            position: relative;
            color: rgba(255,255,255,0.9) !important;
            transition: var(--transition);
        }
        
        .nav-link:hover {
            color: white !important;
            transform: translateY(-2px);
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: white;
            transition: var(--transition);
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        /* Side Panel Styling */
        .bg-light {
            background: var(--secondary-gradient) !important;
            box-shadow: 5px 0 15px rgba(0,0,0,0.05);
        }
        
        .btn-outline-primary {
            border: 2px solid var(--dark-accent);
            color: var(--dark-accent);
            font-weight: 600;
            transition: var(--transition);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            margin-bottom: 1rem;
        }
        
        .btn-outline-primary:hover {
            background: var(--dark-accent);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(74, 78, 105, 0.3);
        }
        
        .btn-outline-success {
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            font-weight: 600;
            transition: var(--transition);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
        }
        
        .btn-outline-success:hover {
            background: var(--accent-color);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }
        
        /* Main Content Styling */
        .container-fluid {
            background: url('https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80') no-repeat center center;
            background-size: cover;
            position: relative;
        }
        
        .container-fluid::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.85);
        }
        
        .row > .col-md-10 {
            padding: 3rem 0;
        }
        
        h1 {
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1.5rem !important;
            font-size: 3.5rem;
        }
        
        .lead {
            font-size: 1.5rem;
            color: var(--dark-accent);
            margin-bottom: 3rem;
        }
        
        .btn-primary {
            background: var(--primary-gradient);
            border: none;
            padding: 0.8rem 2.5rem;
            font-weight: 600;
            border-radius: 50px;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.6);
        }
        
        .btn-outline-primary {
            border: 2px solid #667eea;
            color: #667eea;
            padding: 0.8rem 2.5rem;
            font-weight: 600;
            border-radius: 50px;
            transition: var(--transition);
        }
        
        .btn-outline-primary:hover {
            background: var(--primary-gradient);
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.6);
        }
        
        /* Modal Styling */
        .modal-content {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }
        
        .modal-header {
            background: var(--primary-gradient);
            color: white;
            border-bottom: none;
        }
        
        .modal-title {
            font-weight: 700;
        }
        
        .list-group-item {
            border-left: none;
            border-right: none;
            transition: var(--transition);
            border-color: rgba(0,0,0,0.05);
        }
        
        .list-group-item:hover {
            background-color: #f8f9fa;
            transform: translateX(5px);
        }
        
        /* Animations */
        .animate__animated {
            animation-duration: 1s;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            
            .lead {
                font-size: 1.2rem;
            }
            
            .btn-primary, .btn-outline-primary {
                padding: 0.6rem 1.5rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand animate__animated animate__fadeInLeft" href="#">EduHire</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item animate__animated animate__fadeInDown">
                        <a class="nav-link" href="{{ url_for('landing') }}"><i class="fas fa-home me-1"></i> Home</a>
                    </li>
                    <li class="nav-item animate__animated animate__fadeInDown animate__delay-1s">
                        <a class="nav-link" href="{{ url_for('courses') }}"><i class="fas fa-book me-1"></i> Courses</a>
                    </li>
                    <li class="nav-item animate__animated animate__fadeInDown animate__delay-2s">
                        <a class="nav-link" href="{{ url_for('universities') }}"><i class="fas fa-university me-1"></i> Universities</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <span class="navbar-text me-3 animate__animated animate__fadeIn"><i class="fas fa-user-circle me-2"></i>Welcome, {{ username }}</span>
                    </li>
                    <li class="nav-item animate__animated animate__fadeIn">
                        <a class="btn btn-outline-light" href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt me-1"></i> Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- Side Panel -->
            <div class="col-md-2 bg-light vh-100 d-flex flex-column align-items-start pt-4" style="min-width:200px;">
                <button class="btn btn-outline-primary w-100 mb-3 animate__animated animate__fadeInLeft animate__delay-1s" data-bs-toggle="modal" data-bs-target="#profileModal">
                    <i class="fas fa-user-circle me-2"></i>Profile
                </button>
                <button class="btn btn-outline-success w-100 animate__animated animate__fadeInLeft animate__delay-2s" data-bs-toggle="modal" data-bs-target="#savedCoursesModal">
                    <i class="fas fa-bookmark me-2"></i>Saved Courses
                </button>
            </div>
            <!-- Main Content -->
            <div class="col-md-10">
                <div class="container mt-4">
                    {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                            {% for category, message in messages %}
                                <div class="alert alert-{{ category }} alert-dismissible fade show animate__animated animate__fadeInDown" role="alert" id="flash-message">
                                    {{ message }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}

                    <div class="row">
                        <div class="col-md-8 mx-auto text-center animate__animated animate__fadeInUp animate__delay-1s">
                            <h1 class="mb-4">Welcome to EduHire</h1>
                            <!-- Animated Vibrant Description Box (Wider & Shorter) -->
                            <div class="animate__animated animate__fadeInDown"
                                 style="
                                    background: linear-gradient(120deg, #667eea 0%, #764ba2 100%);
                                    border-radius: 24px;
                                    box-shadow: 0 8px 32px rgba(102,126,234,0.18), 0 2px 8px rgba(118,75,162,0.10);
                                    padding: 1.2rem 2.5rem;
                                    margin-bottom: 1.5rem;
                                    display: inline-block;
                                    max-width: 900px;
                                    width: 100%;
                                    border: 2px solid #fff;
                                    position: relative;
                                    overflow: hidden;
                                ">
                                <div style="
                                    position: absolute;
                                    top: 0; left: 0; width: 100%; height: 100%;
                                    background: linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.04) 100%);
                                    pointer-events: none;
                                    z-index: 1;
                                "></div>
                                <p class="mb-0" style="
                                    font-size: 1.08rem;
                                    color: #fff;
                                    font-weight: 500;
                                    letter-spacing: 0.01em;
                                    text-align: justify;
                                    text-justify: inter-word;
                                    margin-left: 0.5rem;
                                    margin-right: 0.5rem;
                                    z-index: 2;
                                    position: relative;
                                    text-shadow: 0 2px 8px rgba(102,126,234,0.10);
                                    line-height: 1.5;
                                    ">
                                    <span style="display: block; margin-bottom: 0.3em;">
                                        EduHire is your gateway to discovering top university programs in Germany. Search, filter, and save your favorite courses, explore universities, and manage your academic journeyâ€”all in one place. Start exploring and take the next step toward your educational goals!
                                    </span>
                                </p>
                            </div>
                            <p class="lead">Find your ideal university program in Germany</p>
                            <div class="mt-5 d-flex justify-content-center align-items-center flex-wrap gap-3">
                                <a href="{{ url_for('courses') }}" class="btn btn-primary btn-lg animate__animated animate__pulse animate__infinite d-flex align-items-center">
                                    <i class="fas fa-search me-2"></i>Browse Courses
                                </a>
                                <a href="{{ url_for('universities') }}" class="btn btn-outline-primary btn-lg animate__animated animate__pulse animate__infinite animate__delay-1s d-flex align-items-center">
                                    <i class="fas fa-graduation-cap me-2"></i>Explore Universities
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="profileModalLabel"><i class="fas fa-user-circle me-2"></i>Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="d-flex align-items-center mb-4">
                        <div class="flex-shrink-0">
                            <div class="bg-primary bg-gradient rounded-circle p-3 text-white">
                                <i class="fas fa-user fa-2x"></i>
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-3">
                            <h4 class="mb-1">{{ user.username }}</h4>
                            <p class="text-muted mb-0">{{ user.email }}</p>
                        </div>
                    </div>
                    
                    <div class="list-group">
                        <div class="list-group-item border-0">
                            <div class="d-flex justify-content-between align-items-center">
                                <span><i class="fas fa-calendar-alt me-2 text-primary"></i>Account Created</span>
                                <span class="fw-bold">{{ user.created_at.strftime('%Y-%m-%d') }}</span>
                            </div>
                        </div>
                        <div class="list-group-item border-0">
                            <div class="d-flex justify-content-between align-items-center">
                                <span><i class="fas fa-clock me-2 text-primary"></i>Member for</span>
                                <span class="fw-bold">
                                    {% set days = (now() - user.created_at).days %}
                                    {{ days }} day{{ 's' if days != 1 else '' }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Saved Courses Modal -->
    <div class="modal fade" id="savedCoursesModal" tabindex="-1" aria-labelledby="savedCoursesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="savedCoursesModalLabel"><i class="fas fa-bookmark me-2"></i>Saved Courses</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    {% if saved_programs %}
                        <div class="row">
                            {% for program in saved_programs %}
                                <div class="col-md-6 mb-4">
                                    <div class="card h-100 border-0 shadow-sm">
                                        <div class="card-body">
                                            <h5 class="card-title">{{ program.name }}</h5>
                                            <div class="d-flex align-items-center mb-2">
                                                {% if program.university_name %}
                                                    <span class="badge bg-primary me-2"><i class="fas fa-university me-1"></i>{{ program.university_name }}</span>
                                                {% endif %}
                                                {% if program.degree_type %}
                                                    <span class="badge bg-success me-2"><i class="fas fa-graduation-cap me-1"></i>{{ program.degree_type }}</span>
                                                {% endif %}
                                                {% if program.language %}
                                                    <span class="badge bg-info"><i class="fas fa-language me-1"></i>{{ program.language }}</span>
                                                {% endif %}
                                            </div>
                                            {% if program.duration %}
                                                <p class="card-text"><i class="fas fa-clock me-2 text-muted"></i><strong>Duration:</strong> {{ program.duration }}</p>
                                            {% endif %}
                                            {% if program.description %}
                                                <p class="card-text"><i class="fas fa-align-left me-2 text-muted"></i>{{ program.description|truncate(100) }}</p>
                                            {% endif %}
                                        </div>
                                        <div class="card-footer bg-transparent border-top-0">
                                            <form method="POST" action="{{ url_for('remove_saved_program', program_id=program.id) }}" style="display:inline;">
                                                <button type="submit" class="btn btn-sm btn-outline-danger">
                                                    <i class="fas fa-trash-alt me-1"></i>Remove
                                                </button>
                                            </form>
                                            <a href="{{ url_for('course_detail', program_id=program.id) }}" class="btn btn-sm btn-outline-primary float-end">
                                                <i class="fas fa-eye me-1"></i>View Details
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="text-center py-5">
                            <i class="fas fa-bookmark fa-4x text-muted mb-4"></i>
                            <h4 class="text-muted">No saved courses yet</h4>
                            <p class="text-muted">Start browsing courses and save your favorites!</p>
                            <a href="{{ url_for('courses') }}" class="btn btn-primary mt-3"><i class="fas fa-search me-1"></i>Browse Courses</a>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Add animation to elements when they come into view
        document.addEventListener('DOMContentLoaded', function() {
            const animateElements = document.querySelectorAll('.animate__animated');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add(entry.target.dataset.animation);
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.1
            });
            
            animateElements.forEach(element => {
                observer.observe(element);
            });

            // Add ripple effect to buttons
            document.querySelectorAll('.btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    const x = e.clientX - e.target.getBoundingClientRect().left;
                    const y = e.clientY - e.target.getBoundingClientRect().top;
                    
                    const ripple = document.createElement('span');
                    ripple.classList.add('ripple-effect');
                    ripple.style.left = `${x}px`;
                    ripple.style.top = `${y}px`;
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 1000);
                });
            });

            // Auto-dismiss success flash after 5 seconds
            setTimeout(function() {
                var flash = document.getElementById('flash-message');
                if (flash && flash.classList.contains('alert-success')) {
                    flash.classList.remove('show');
                    setTimeout(function() {
                        if (flash.parentNode) flash.parentNode.removeChild(flash);
                    }, 500);
                }
            }, 5000);
        });
    </script>
</body>
</html>